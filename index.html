<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>联创梦享集团官网</title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">
    <link rel="stylesheet" href="index.css">
</head>
<body >
<div id="page">
    <div id="logo"></div>
    <footer id="up">
        <img  src="img/section1_3.png">
    </footer>
    <div class="section section1">
        <div id="bigImg1" class="bigImg block" data-rel="61">
            <div class="item1" data-rel="0rem,0rem,-1.85rem,5.85rem"></div>
            <div class="item2" data-rel="0rem,9.5rem,-1.2rem,3.7rem"></div>
            <div class="item3" data-rel="-5rem,4.75rem,0rem,4.75rem"></div>
        </div>
        <div class="txt block" data-rel="10">
            <p class="queue txt1" data-rel="40rem,0,1rem,0">联创梦享企业管理中心</p>
            <p class="queue txt2" data-rel="60rem,0,4.25rem,0">DEFSHARE</p>
            <p class="queue txt3" data-rel="80rem,0,7.7rem,0"><img src="img/section1_2.png"/></p>
        </div>
        <p class="queue txt4" data-rel="-100rem,0,8.25rem,0">专注互联网，共享新财富!</p>
    </div>
    <div class="section section2">
        <div id="bigImg2" class="bigImg block"  data-rel="40">
            <div class="item1"/></div>
            <div class="item2" data-rel="-0.05rem,2.65rem,-0.05rem,16.65rem"/></div>
        </div>
        <div class="txt block" data-rel="5">
            <p class="queue txt1" data-rel="50rem,0rem,0rem,0rem">互联网产品建设领导品牌</p>
            <p class="queue txt2" data-rel="70rem,1.7rem,3.4rem,1.7rem">联创梦享集团总部设立于四川成都，在上海、北京、深圳、成都、郑州等地均设有办事机构。中心立足互联网，致力于系统设备研发、互联网产品研发、互联网运营、全网品牌整合营销等领域，业务覆盖互联网金融、农业信息化、社区商业移动互联、智慧园区、智能家居、房地产、电子商务、环保等行业。旗下已拥有6家控股子公司与10家持股合作公司。</p>
        </div>
    </div>
    <div class="section section3">
        <div id="bigImg3" class="bigImg block"  data-rel="40">
            <div class="item1" data-rel="-40rem,4.05rem,0rem,4.05rem"></div>
            <p class="item2"data-rel="8.1rem,-50rem,8.1rem,0rem">联创梦享企业管理中心</p>
            <p class="item3"data-rel="10.85rem,50rem,10.85rem,0rem">控股子公司及持股合作公司</p>
        </div>
        <ul class="queue1 list1 block"  data-rel="8" data-rel1 = "-50rem,0rem">
            <li></li><li></li><li></li>
        </ul>
        <ul class="queue1 list2 block"  data-rel="5" data-rel1 = "50rem,0rem">
            <li></li><li></li><li></li><li></li>
        </ul>
        <div class="txt block"  data-rel="10">
            <ul class="queue txt_list1" data-rel="40rem,0.1rem,0rem,0.1rem">
                <li>物易联科技有限公司</li>
                <li>家易居科技有限公司</li>
                <li>金易畅科技有限公司</li>
            </ul>
            <ul class="queue txt_list2" data-rel="60rem,3.55rem,2.9rem,3.55rem">
                <li>联合农业科技有限公司</li>
                <li>柒秘制</li>
                <li>舞台汇</li>
                <li>爱铺居</li>
            </ul>
            <ul class="queue txt_list3" data-rel="80rem,6.05rem,6.05rem,6.05rem">
                <li>鼎砥</li>
                <li>恒嘉仁智</li>
                <li>校园生活</li>
                <li>置尚创联</li>
            </ul>
        </div>
    </div>
    <div class="section section4">

    </div>
</div>
</body>
<script type="text/javascript" src="jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="jq_touch.js"></script>
<script type="text/javascript">
    (function (doc, win) {
        var docEl = doc.documentElement,
                resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
                recalc = function () {
                    var clientWidth = docEl.clientWidth;
                    if (!clientWidth) return;
                    docEl.style.fontSize = 20 * (clientWidth / 720) + 'px';
                };
        if (!doc.addEventListener) return;
        win.addEventListener(resizeEvt, recalc, false);
        doc.addEventListener('DOMContentLoaded', recalc, false);
    })(document, window);
    $("body").on("orientationchange",function(){
        event.stopPropagation();event.cancelBubble = true;
    })
    $(function(){
        var section = $("#page .section");
        var scrollfullPage = new $.MyScroll();
        var vh = document.documentElement.clientHeight;
        vh = vh<= 480 ? 480:(vh<=568 ? 800:1000);
        console.log(vh)
        scrollfullPage.init({
            afterFnArr:[oneFn("after"),twoFn("after"),threeFn("after"),function(){alert("44进场")}],
            leaveFnArr:[oneFn("leave"),twoFn("leave"),threeFn("leave"),function(){alert("44出场")}]
        });

        function oneFn(status){
            return (function(){
                var bigLogoImg = $("#bigImg1 div");
                var queue = $(".section1 .queue"),
                     knock = 0,
                     block = $(".section1 .block");

                block.each(function(i,elem){
                    var T = $(elem).attr("data-rel");
                    $(elem).css({
                        marginTop:(T*vh/480) + "px"
                    })
                })
                bigLogoImg.each(function(i,elem){
                    var dataArr = $(elem).attr("data-rel").split(",");
                    var T, L,O;
                    knock = i;
                    T = (status == "after") ? dataArr[2]:dataArr[0];
                    L = (status == "after") ? dataArr[3]:dataArr[1];
                    O = (status == "after") ? 1:0;
                    $(elem).animate({
                        top:T,
                        left:L,
                        opacity:O
                    },1500)
                })

                if(knock == bigLogoImg.length-1){
                    queue.delay(700).each(function(j,elem){
                        var dataArr =  $(elem).attr("data-rel").split(",");
                        var T, L, O;
                        T = (status == "after") ? dataArr[2]:dataArr[0];
                        O = (status == "after") ? 1:0;
                        if(j == 3){
                            $(elem).animate({
                                bottom: T ,
                                opacity:O
                            },1500,function(){
                                knock = true;
                            })
                        }else{
                            $(elem).animate({
                                top: T ,
                                opacity:O
                            },1500,function(){
                                knock = true;
                            })
                        }

                    })

                }
            })
        }

        function twoFn(status){
            return (function(){
                var bigLogo1Img = $("#bigImg2 .item2");
                var bigLogo1ImgDataArr = bigLogo1Img.eq(0).attr("data-rel").split(",");
                var queue = $(".section2 .queue"),
                     block = $(".section2 .block");
                var T, L;

                block.each(function(i,elem){
                    var T = $(elem).attr("data-rel");
                    $(elem).css({
                        marginTop:(T*vh/480) + "px"
                    })
                })
                T = (status == "after") ? bigLogo1ImgDataArr[2]:bigLogo1ImgDataArr[0];
                L = (status == "after") ? bigLogo1ImgDataArr[3]:bigLogo1ImgDataArr[1];
                bigLogo1Img.animate({
                    top:T,
                    left:L
                },1500)

                queue.each(function(j,elem){
                    var dataArr = $(elem).attr("data-rel").split(",");
                    var T, L;
                    T = (status == "after") ? dataArr[2]:dataArr[0];
                    L = (status == "after") ? dataArr[3]:dataArr[1];
                    O = (status == "after") ? 1:0;

                    $(elem).animate({
                        top: T ,
                        left: L,
                        opacity:O
                    },1500)

                })

            })
        }

        function threeFn(status){
            return (function(){
                var bigLogo1Img = $("#bigImg3").children();
                var queue = $(".section3 .queue"),
                    queue1 = $(".section3 .queue1"),
                    block = $(".section3 .block");

                block.each(function(i,elem){
                    var T = $(elem).attr("data-rel");
                    $(elem).css({
                        marginTop:(T*vh/480) + "px"
                    })
                })

                bigLogo1Img.each(function(i,elem){
                    var dataArr = $(elem).attr("data-rel").split(",");
                    var T, L,O;
                    T = (status == "after") ? dataArr[2]:dataArr[0];
                    L = (status == "after") ? dataArr[3]:dataArr[1];
                    O = (status == "after") ? 1:0;

                    $(elem).animate({
                        top: T ,
                        left: L,
                        opacity:O
                    },1500)

                })

                queue1.delay(800).each(function(i,elem){
                    var dataArr = $(elem).attr("data-rel1").split(",");
                    var L,O;
                    L = (status == "after") ? dataArr[1]:dataArr[0];
                    O = (status == "after") ? 1:0;
                    $(elem).animate({
                        left:L,
                        opacity:O
                    },1500)
                })


                queue.delay(3000).each(function(j,elem){
                    var dataArr = $(elem).attr("data-rel").split(",");
                    var T, L,O;
                    T = (status == "after") ? dataArr[2]:dataArr[0];
                    L = (status == "after") ? dataArr[3]:dataArr[1];
                    O = (status == "after") ? 1:0;

                    $(elem).animate({
                        top: T ,
                        left: L,
                        opacity:O
                    },1500)

                })

            })
        }
    })
</script>
</html>